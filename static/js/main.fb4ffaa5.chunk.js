(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1O32i",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__33YYV","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3dgX_"}},11:function(e,a,t){e.exports={BtnWrapper:"Button_BtnWrapper__1QeNR",Button:"Button_Button__15YZl"}},12:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3-By7",Modal:"Modal_Modal__z1koi"}},23:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__1SQ5G"}},25:function(e,a,t){e.exports={loader:"Loader_loader__2AxVn"}},27:function(e,a,t){e.exports={App:"App_App__1SFlz",Searchbar:"App_Searchbar__1Nn4Y",SearchForm:"App_SearchForm__3toHf","SearchForm-button":"App_SearchForm-button__1_cda","SearchForm-button-label":"App_SearchForm-button-label__1qtEE","SearchForm-input":"App_SearchForm-input__zJFPl"}},4:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__W-B8d",SearchForm:"Searchbar_SearchForm__IXY3P",SearchFormButton:"Searchbar_SearchFormButton__1TLUU",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2V3vX",SearchFormInput:"Searchbar_SearchFormInput__2OUUm"}},71:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),o=t(22),c=t.n(o),l=t(13),i=t(5),s=t(6),u=t(8),m=t(7),h=t(4),p=t.n(h),g=t(0),d=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={query:""},e.handleChange=function(a){e.setState({query:a.target.value})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.query;e.props.onSearch(t),e.setState({query:""})},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.query;return Object(g.jsx)("header",{className:p.a.Searchbar,children:Object(g.jsxs)("form",{className:p.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(g.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(g.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:p.a.SearchFormInput,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})]})})}}]),t}(r.Component),b=t(10),_=t.n(b),j=function(e){var a=e.webImgURL,t=e.largeImgURL,r=e.openModal;return Object(g.jsx)("li",{className:_.a.ImageGalleryItem,onClick:function(){return r(t)},role:"presentation",children:Object(g.jsx)("img",{src:a,alt:"",className:_.a.ImageGalleryItemImage})})},f=t(23),S=t.n(f),I=function(e){var a=e.images,t=e.openModal;return Object(g.jsx)("ul",{className:S.a.ImageGallery,children:a.map((function(e){return Object(g.jsx)(j,{webImgURL:e.webformatURL,largeImgURL:e.largeImageURL,openModal:t},e.id)}))})},y=t(11),O=t.n(y),v=function(e){var a=e.loadMore;return Object(g.jsx)("div",{className:O.a.BtnWrapper,children:Object(g.jsx)("button",{onClick:a,type:"button",className:O.a.Button,children:"Load More"})})},x=t(24),F=t.n(x),M=t(25),L=t.n(M),B=function(){return Object(g.jsx)("div",{className:L.a.loader,children:Object(g.jsx)(F.a,{type:"Grid",color:"#96bdb9",height:100,width:100})})},G=t(12),N=t.n(G),U=function(e){var a=e.closeModal,t=e.largeImgURL,r=e.images;return Object(g.jsx)("div",{className:N.a.Overlay,onClick:a,role:"presentation",children:Object(g.jsx)("div",{className:N.a.Modal,children:r.map((function(e){return Object(g.jsx)("img",{src:t,alt:""},e.id)}))})})},k=t(26),q=t.n(k),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"20675253-cdd8f56cc704bd20aa8c935fc";return q.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(a,"&key=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12"))},A=t(27),R=t.n(A),C=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={images:[],largeImgURL:"",isLoading:!1,isOpen:!1,page:1,query:""},e.onSearch=function(a){e.setState({images:[],query:a,page:1})},e.getImages=function(a,t){e.setState({isLoading:!0}),w(a,t).then((function(a){return e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(a.data.hits))}}))})).catch((function(e){return console.log(e)})).finally((function(){setTimeout((function(){e.setState({isLoading:!1})}),1e3)}))},e.openModal=function(a){return e.setState({isOpen:!0,largeImgURL:a})},e.closeModal=function(){return e.setState({isOpen:!1})},e.loadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,a=e.query,t=e.page;this.getImages(a,t)}},{key:"componentDidUpdate",value:function(e,a){var t=this.state,r=t.page,n=t.query,o=t.images;a.page===r&&a.query===n||this.getImages(n,r),a.images!==o&&o.length>12&&setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),500)}},{key:"render",value:function(){var e=this.state,a=e.isLoading,t=e.isOpen,r=e.images,n=e.largeImgURL;return Object(g.jsxs)("div",{className:R.a.App,children:[Object(g.jsx)(d,{onSearch:this.onSearch}),Object(g.jsx)(I,{images:r,openModal:this.openModal}),a&&Object(g.jsx)(B,{}),t&&Object(g.jsx)(U,{closeModal:this.closeModal,images:r,largeImgURL:n}),Object(g.jsx)(v,{loadMore:this.loadMore})]})}}]),t}(r.Component);c.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.fb4ffaa5.chunk.js.map